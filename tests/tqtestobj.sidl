#include <cx/taskqueue/task.sidl>
#include <cx/thread/event.h>

class TQTest1 extends Task
{
    int num[2];
    int total;
    Event *notify;

    factory create(int num1, int num2, Event *notify);
}

class TQTestFail extends Task
{
    int n;
    Event *notify;

    factory create(int n, Event *notify);
}

class TQTestCC1 extends Task
{
    int num[2];
    TaskQueue *destq;
    int *accum;
    int *counter;
    Event *notify;

    factory create(int num1, int num2, TaskQueue *destq, int *accum, int *counter, Event *notify);
}

class TQTestCC2 extends Task
{
    int total;
    int *accum;
    int *counter;
    Event *notify;

    factory create(int total, int *accum, int *counter, Event *notify);
}

abstract class TQTestDefer extends Task
{
    Event *notify;
}

class TQTestD1 extends TQTestDefer
{
    int order;
    int64 dtime;
    int64 rantime;
    factory create(int order, int64 dtime, Event *notify);
}

class TQTestD2 extends TQTestDefer
{
    object:Task waitfor;
    factory create(Task *waitfor, Event *notify);
}
